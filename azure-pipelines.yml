trigger:
- master  # ya jo bhi tumhara branch hai

pool:
  name: gittoacr

variables:
  artifactName: 'htmlpage'
  version: '1.0.$(Build.BuildId)'

steps:
- task: ArchiveFiles@2
  inputs:
    rootFolderOrFile: '.'  # current folder jahan index.html hai
    includeRootFolder: false
    archiveType: 'zip'
    archiveFile: '$(Build.ArtifactStagingDirectory)/$(artifactName).zip'
    replaceExistingArchive: true

- task: UniversalPackages@0
  inputs:
    command: 'publish'
    publishDirectory: '$(Build.ArtifactStagingDirectory)'  # ZIP yahan banta hai
    feedsToUse: 'internal'
    vstsFeed: 'mnabeelbhatti/pipelineartifacts'  # yahi tumhara feed name hai
    packageName: 'htmlpage'
    packageVersion: '$(version)'
